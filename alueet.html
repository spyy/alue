<!DOCTYPE html>
<html lang="en" manifest="alueet.net.appcache">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Alue</title>

    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="css/cover.css" rel="stylesheet" type="text/css" />    
    
  </head>

  <body>

    <div class="site-wrapper">

      <div class="site-wrapper-inner">

        <div class="cover-container">

          <div class="masthead clearfix">
            <div class="inner">
              <h3 class="masthead-brand">alueet.net</h3>
              <nav>
                <ul class="nav masthead-nav">                  
                  <li><a href="uusi.html">Uusi alue</a></li>
                  <li class="active"><a href="#">Alueet</a></li>
                </ul>
              </nav>
            </div>
          </div>

          <div class="inner cover">
                <div class="lead" id="alueet">
                    
                    <p><a href='alueet.html' class='btn btn-lg btn-default' onclick='heippa();'> moikka </a></p>
                    
                    <!-- filled by script -->    
                    
                </div>
          </div>

          <div class="mastfoot">
            <div class="inner">
                <p>sami.pyy@gmail.com</p>
            </div>
          </div>

        </div>

      </div>

    </div>
      

    <script>
        var innerHTML = areas();
        document.getElementById("alueet").innerHTML = innerHTML;
        
        function areasFromLocalStorage() {            
            var innerHTML = "";
            
            var i;
            for (i = 0; i < localStorage.length; i++) {
                var key = window.localStorage.key(i);
                var item = window.localStorage.getItem(key);
                
                if (key.search("_") == -1) {
                    innerHTML += "<p><a href='alue.html?key=" + key + "' class='btn btn-lg btn-default'>" + key + "</a></p>";
                }
            }
            
            return innerHTML;
        }
        
        function heippa() {
            alert("heippa");
        }
        
        function areas() {
            var innerHTML = "";            
            
            if (typeof(Storage) != "undefined") {   
                innerHTML = areasFromLocalStorage();
            } else {
                alert("Selaimesi ei tue tietokantaa");
            }     
            
            return innerHTML;
        }    
    </script> 
      
  </body>
</html>